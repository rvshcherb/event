!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,i){for(var r=0;r<i.length;r++){var n=i[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,s=function(t,i){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===e(s)?s:String(s)),n)}var s}var i=function(){function e(t){var i=t.size,r=t.hitHandler,n=t.missHandler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fieldSize=i,this.misses=0,this.hits=0,this.targetCell=void 0,this.field=null,this.game=document.querySelector(".game"),this.interval=null,this.hitHandler=r,this.missHandler=n,this.gameOver=this.gameOver.bind(this)}var i,r;return i=e,(r=[{key:"_bindToDom",value:function(){this.game.appendChild(this.field)}},{key:"_generateField",value:function(){var e=document.createElement("div");e.classList.add("field");for(var t=0;t<this.fieldSize;){var i=document.createElement("div");i.classList.add("cell"),e.appendChild(i),t+=1}this.field=e}},{key:"_createTargetCell",value:function(){var e=Math.floor(Math.random()*this.fieldSize);return e!==this.targetCell?e:this._createTargetCell()}},{key:"startGame",value:function(){var e=this;this._generateField(),this._bindToDom(),this.field.addEventListener("click",this._onHit.bind(this));var t=Array.from(this.field.children);this.interval=setInterval((function(){e.targetCell=e._createTargetCell(),t.forEach((function(e){return e.classList.remove("target")})),t[e.targetCell].classList.add("target")}),1e3)}},{key:"_onHit",value:function(e){e.target.classList.contains("target")?(this.hits+=1,e.target.classList.remove("target"),this.hitHandler(this.hits)):(this.misses+=1,this.missHandler(this.misses),this.misses>=5&&this.gameOver())}},{key:"gameOver",value:function(){clearInterval(this.interval),this.field.classList.add("game-over"),Array.from(this.field.children).forEach((function(e){return e.classList.remove("target")})),this.field.insertAdjacentHTML("beforeend",'\n      <div class="gameover-notice">\n        <p>Game over</p>\n      </div>\n    ')}}])&&t(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),e}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,s=function(e,t){if("object"!==r(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===r(s)?s:String(s)),n)}var s}var s=new(function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hitsScore=document.querySelector(t),this.missesScore=document.querySelector(i),this.onEncreaseHits=this.onEncreaseHits.bind(this),this.onEncreaseMisses=this.onEncreaseMisses.bind(this)}var t,i;return t=e,(i=[{key:"onEncreaseHits",value:function(e){this.hitsScore.innerText=e}},{key:"onEncreaseMisses",value:function(e){this.missesScore.innerText=e}}])&&n(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}())(".hits",".misses");new i({size:16,hitHandler:s.onEncreaseHits,missHandler:s.onEncreaseMisses}).startGame()}();
//# sourceMappingURL=main.1a1c5ef95813d6a588d0.js.map