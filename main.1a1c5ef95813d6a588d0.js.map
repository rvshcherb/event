{"version":3,"file":"main.1a1c5ef95813d6a588d0.js","mappings":"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","sources":["webpack://regular-webpack-tpl/./src/js/Game.js","webpack://regular-webpack-tpl/./src/index.js","webpack://regular-webpack-tpl/./src/components/scores-board/scores-board.js"],"sourcesContent":["export default class Game {\n  constructor({ size, hitHandler, missHandler }) {\n    this.fieldSize = size;\n    this.misses = 0;\n    this.hits = 0;\n    this.targetCell = undefined;\n    this.field = null;\n    this.game = document.querySelector('.game');\n    this.interval = null;\n    this.hitHandler = hitHandler;\n    this.missHandler = missHandler;\n    this.gameOver = this.gameOver.bind(this);\n  }\n\n  _bindToDom() {\n    this.game.appendChild(this.field);\n  }\n\n  _generateField() {\n    const field = document.createElement('div');\n    field.classList.add('field');\n    let i = 0;\n    while (i < this.fieldSize) {\n      const cell = document.createElement('div');\n      cell.classList.add('cell');\n      field.appendChild(cell);\n      i += 1;\n    }\n    this.field = field;\n  }\n\n  _createTargetCell() {\n    const randomCell = Math.floor(Math.random() * this.fieldSize);\n    if (randomCell !== this.targetCell) {\n      return randomCell;\n    }\n    return this._createTargetCell();\n  }\n\n  startGame() {\n    this._generateField();\n    this._bindToDom();\n    this.field.addEventListener('click', this._onHit.bind(this));\n    const cells = Array.from(this.field.children);\n    this.interval = setInterval(() => {\n      this.targetCell = this._createTargetCell();\n      cells.forEach((cell) => cell.classList.remove('target'));\n      cells[this.targetCell].classList.add('target');\n    }, 1000);\n  }\n\n  _onHit(evt) {\n    if (evt.target.classList.contains('target')) {\n      this.hits += 1;\n      evt.target.classList.remove('target');\n      this.hitHandler(this.hits);\n    } else {\n      this.misses += 1;\n      this.missHandler(this.misses);\n      if (this.misses >= 5) {\n        this.gameOver();\n      }\n    }\n  }\n\n  gameOver() {\n    clearInterval(this.interval);\n    this.field.classList.add('game-over');\n    const cells = Array.from(this.field.children);\n    cells.forEach((cell) => cell.classList.remove('target'));\n    this.field.insertAdjacentHTML('beforeend', `\n      <div class=\"gameover-notice\">\n        <p>Game over</p>\n      </div>\n    `);\n  }\n}\n","import './css/style.css';\nimport Game from './js/Game';\nimport ScoresBoard from './components/scores-board/scores-board';\n\nconst scoresBoard = new ScoresBoard('.hits', '.misses');\n\nconst game = new Game({\n  size: 16,\n  hitHandler: scoresBoard.onEncreaseHits,\n  missHandler: scoresBoard.onEncreaseMisses,\n});\n\ngame.startGame();\n","export default class ScoresBoard {\n  constructor(hits, misses) {\n    this.hitsScore = document.querySelector(hits);\n    this.missesScore = document.querySelector(misses);\n\n    this.onEncreaseHits = this.onEncreaseHits.bind(this);\n    this.onEncreaseMisses = this.onEncreaseMisses.bind(this);\n  }\n\n  onEncreaseHits(hits) {\n    this.hitsScore.innerText = hits;\n  }\n\n  onEncreaseMisses(misses) {\n    this.missesScore.innerText = misses;\n  }\n}\n"],"names":["Game","_ref","size","hitHandler","missHandler","_classCallCheck","this","fieldSize","misses","hits","targetCell","undefined","field","game","document","querySelector","interval","gameOver","bind","key","value","appendChild","createElement","classList","add","i","cell","randomCell","Math","floor","random","_createTargetCell","_this","_generateField","_bindToDom","addEventListener","_onHit","cells","Array","from","children","setInterval","forEach","remove","evt","target","contains","clearInterval","insertAdjacentHTML","scoresBoard","ScoresBoard","hitsScore","missesScore","onEncreaseHits","onEncreaseMisses","innerText","startGame"],"sourceRoot":""}